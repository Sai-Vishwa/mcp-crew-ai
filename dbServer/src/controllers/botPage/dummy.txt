SELECT 
    t.id,
    t.name,
    t.description,
    CASE 
        WHEN a.tool_id IS NOT NULL OR sa.tool_id IS NOT NULL THEN TRUE
        ELSE FALSE
    END AS access_status
FROM tools t
LEFT JOIN auth u ON u.uname = 'TeTeacher2'
LEFT JOIN access a 
    ON a.tool_id = t.id AND a.user_type = u.role
LEFT JOIN specialaccess sa 
    ON sa.tool_id = t.id AND sa.uname = u.uname;




SELECT 
    CASE 
        WHEN EXISTS (
            SELECT 1
            FROM session s
            JOIN auth a ON s.uname = a.uname
            JOIN tools t ON t.name = 'Create_Placement'
            LEFT JOIN access ra ON ra.user_type = a.role AND ra.tool_id = t.id
            LEFT JOIN specialaccess sa ON sa.uname = a.uname AND sa.tool_id = t.id
            WHERE s.session = 'abcd'
              AND (ra.tool_id IS NOT NULL OR sa.tool_id IS NOT NULL)
        )
        THEN 'YES'
        ELSE 'NO'
    END AS access_result;
